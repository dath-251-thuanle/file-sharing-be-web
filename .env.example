# ============================================
# Environment Variables Template
# ============================================
# Copy this file to .env and fill in your values
# For production, use SOPS to encrypt: sops -e -i .env (creates .env.enc)
# For development, use: sops dev.enc > .env
# For production, use: sops prod.enc > .env

# ==================== APPLICATION ====================
APP_ENV=production
APP_PORT=8080
ALL_HOST=false

# ==================== DATABASE ====================
# For Aiven or external PostgreSQL:
DB_HOST=your-database-host.aivencloud.com
DB_PORT=5432
DB_USER=avnadmin
DB_PASSWORD=your-database-password
DB_NAME=defaultdb
DB_SSLMODE=require
DB_TIMEZONE=Asia/Ho_Chi_Minh

# For local PostgreSQL (development only):
# DB_HOST=postgres
# DB_PORT=5432
# DB_USER=postgres
# DB_PASSWORD=postgres
# DB_NAME=file_sharing_db
# DB_SSLMODE=disable

# ==================== JWT SECRET ====================
# IMPORTANT: Use a strong secret key (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-secret-key-minimum-32-characters-long-change-this-in-production

# ==================== CLEANUP CRON JOB ====================
CLEANUP_SECRET=your-cleanup-secret-key-change-this-in-production

# ==================== AZURE BLOB STORAGE ====================
CLOUD_STORAGE_ENABLED=true
CLOUD_STORAGE_PROVIDER=azure
CLOUD_STORAGE_ENDPOINT=https://your-account.blob.core.windows.net
CLOUD_STORAGE_ACCESS_KEY=your-storage-account-name
CLOUD_STORAGE_SECRET_KEY=your-storage-account-key-or-sas-token
CLOUD_STORAGE_PUBLIC_CONTAINER=public-file
CLOUD_STORAGE_PRIVATE_CONTAINER=private-file

# ==================== CORS CONFIGURATION ====================
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=https://sharefilehcmut.azurewebsites.net,http://localhost,http://localhost:80
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Origin,Content-Type,Content-Length,Accept-Encoding,X-CSRF-Token,Authorization,X-Cron-Secret,X-File-Password

# ==================== DATABASE MIGRATIONS ====================
RUN_DB_MIGRATIONS=true
MIGRATIONS_PATH=migrations

# ==================== STORAGE ====================
STORAGE_PATH=/app/storage/uploads
MAX_FILE_SIZE_MB=100

# ==================== LOGGING ====================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout

# ==================== OPTIONAL: EMAIL (if enabled) ====================
# EMAIL_ENABLED=false
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_USERNAME=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password
# EMAIL_FROM=noreply@filesharing.com

# ==================== OPTIONAL: METRICS ====================
# METRICS_ENABLED=false
# METRICS_PORT=9090

